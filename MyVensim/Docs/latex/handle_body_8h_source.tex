\doxysection{handle\+Body.\+h}
\hypertarget{handle_body_8h_source}{}\label{handle_body_8h_source}\index{src/handleBody.h@{src/handleBody.h}}
\mbox{\hyperlink{handle_body_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#if\ !\ defined(\ HANDLE\_BODY\ )}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#define\ HANDLE\_BODY}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{handle_body_8h_aac78cb29dfe4a565da68073b0beebf2f}{numHandleCreated}};}
\DoxyCodeLine{00021\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{handle_body_8h_a01128a06118f949a0b24a3d080f515fd}{numHandleDeleted}};}
\DoxyCodeLine{00022\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{handle_body_8h_ac1322042429ed9724fbef55908244f3b}{numBodyCreated}};}
\DoxyCodeLine{00023\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{handle_body_8h_aba38ebae7f83ef57afab8c447dddb6cf}{numBodyDeleted}};}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_handle}{Handle}}\{}
\DoxyCodeLine{00027\ \textcolor{keyword}{public}:\ }
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{class_handle_a6a72028918adf79c0ff8d9996e5e4107}{Handle<T>}}(\ )\{\ \ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{handle_body_8h_aac78cb29dfe4a565da68073b0beebf2f}{numHandleCreated}}++;}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_handle_a6a72028918adf79c0ff8d9996e5e4107}{T}};\ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}-\/>attach();\ \ }
\DoxyCodeLine{00033\ \ \ \ \ \}}
\DoxyCodeLine{00034\ \ \ \ \ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_handle_a6a72028918adf79c0ff8d9996e5e4107}{\string~Handle<T>}}()\{\ \mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}-\/>detach();\ \mbox{\hyperlink{handle_body_8h_a01128a06118f949a0b24a3d080f515fd}{numHandleDeleted}}++;\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{class_handle_a6a72028918adf79c0ff8d9996e5e4107}{Handle<T>}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_handle}{Handle}}\&\ \mbox{\hyperlink{class_handle}{hd}}\ ):\mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}(\ \mbox{\hyperlink{class_handle}{hd}}.\mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}\ )\ \{\ \mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}-\/>attach();\ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{class_handle}{Handle<T>}}\&\ \mbox{\hyperlink{class_handle_a52e146e2a1427c8e7d3a692e9378185a}{operator=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_handle}{Handle}}\&\ \mbox{\hyperlink{class_handle}{hd}})\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \ \textcolor{keyword}{this}\ !=\ \&\mbox{\hyperlink{class_handle}{hd}}\ )}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_handle}{hd}}.\mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}-\/>attach();}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}-\/>detach();\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}}\ \ =\ \mbox{\hyperlink{class_handle}{hd}}.\mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}};}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{class_handle}{T}}\ *\mbox{\hyperlink{class_handle_a16021e57596d7369dfa1a9fadc35c06f}{pImpl\_}};\ }
\DoxyCodeLine{00055\ \};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00064\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_body}{Body}}\{\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{class_body_a7727b0d8c998bbc2942e4c802e31e2eb}{Body}}():\ refCount\_\ (\ 0\ )\{\ \mbox{\hyperlink{handle_body_8h_ac1322042429ed9724fbef55908244f3b}{numBodyCreated}}++;\ \}}
\DoxyCodeLine{00068\ \ \ \ \ }
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_body_a5d53322c76a6952d096cb7564ac86db1}{attach}}\ ()\ \ \ \ \{\ refCount\_++;\ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_body_ad481d0c8368db318795c9a0a8fdd3717}{detach}}\ ()\{\ \ \ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ -\/-\/refCount\_\ ==\ 0\ )\ \{\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \textcolor{keyword}{this};\ }
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_body_a59ae961812625b8636071ba61b1a75fc}{refCount}}()\{\ \textcolor{keywordflow}{return}\ refCount\_;\ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_body_a9b15e54cf881ac0ca64790ca1d50110e}{\string~Body}}()\{\mbox{\hyperlink{handle_body_8h_aba38ebae7f83ef57afab8c447dddb6cf}{numBodyDeleted}}++;\}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{class_body_a7727b0d8c998bbc2942e4c802e31e2eb}{Body}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_body}{Body}}\&);}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{class_body}{Body}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_body}{Body}}\&)\{\textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{int}\ refCount\_;\ \ }
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \};}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
